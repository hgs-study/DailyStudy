## IP / TCP / UDP
생각나는 대로 정리하는 중
+ IP :
  - 클라이언트에서 서버로 요청을 보낼 때 많은 노드를 거치게 되는데 서버가 켜져 있는지 안 켜져 있는지 확인도 안 한채 요청을 보낸다.
  - 서버가 꺼져있는 경우 클라이언트 요청은 많은 노드를 통해 서버에 도착하고 나서야 알게 된다.
  - 불안정하다.
  
+ TCP :
  - 3Way Handshake 통해 서버가 요청을 받을 수 있는지 확인한다.
  - SYN -> SYN+ACK -> ACK 순으로 클라이언트 ->서버 , 서버->클라, 클라->서버 순으로 요청을 받을 수 있는지 확인 한 후 데이터를 전송한다 
    (최근엔 최적화가 많이 되어 있기 때문에 ACK할 때 데이터를 보낸다.)
  - 연결 지향적, 신뢰성
  - 패킷정보가 클 경우 잘라서 보내는데 순서가 뒤죽박죽으로 서버한테 도달하면 서버는 다시 제대로 뒤죽박죽된 곳부터 제대로 보내달라고 재요청한다.
    (이유 : TCP에 순서 정보가 들어있기 때문)
  - 순서 상대적으로 
    
+ UDP :
  - IP프로토콜과 똑같다.
  - UDP는 IP 프로토콜 + PORT + 체크섬 기능이 있다.
  - 최근엔 UDP를 점점 쓰는 추세. 커스텀마이징 or 최적화를 하려면 TCP는 이미 많은 기능들을 들고 있지만 UDP는 가지고 있는 것이 없기 때문에 애플리케이션 쪽에서 기능을 추가해 커스텀마이징한다.
  - 속도 빠름

## 일반 정보 헤더
```
- From : 유저 에이전트의 이메일 정보
- Referer : 이전 웹 페이지 주소
- User-Agent : 유저 에이전트 애플리케이션 정보
- Server : 요청을 처리하는 오리진 서버의 소프트웨어 정보
- Date : 메시지가 생성된 날짜
```

+ From : 
  - 일반적으로 잘 사용하진 않음, 검색엔진 같은 곳에서 주로 사용
  - 요청에서 사용

+ Referer : 
  - 정말 많이 사용함
  - 이전 웹 페이지의 주소
  - 유입 경로 분석 가능
  - 요청에서 사용
  
+ User-Agent(클라이언트 애플리케이션):
  - 클라이언트 접속 브라우저 정보
  - 통계 정보
  - 어떤 종류의 브라우저에서 장애가 발생하는지 파악 가능
  - 요청에서 사용
  
+ Server :
  - 요청을 처리하는 Origin 서버(프록시서버,캐시서버를 제외한 실제 api를 받는 서버)의 소프트웨어 정보
  - 응답에서 사용
  
+ Date :
  - 메시지가 발생한 날짜와 시간
  - 응답에서 
  
  
## 특별한 정보 헤더
```
- Host : 요청한 호스트 정보(도메인)
- Location : 페이지 리다이렉션
- Allow : 허용 가능한 HTTP 메서드
- Retry-After : 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간
```

+ Host (필수값)
  - 정말 중요!!!!(필수 값)
  - 요청한 호스트 정보(도메인)
  - 하나의 서버가 여러 도메인을 처리해야 할 때(가상 호스트)
  - 200.200.200.2에 여러 도메인이 묶여 있을 경우(aaa.com,bbb.com,ccc.com) 사용자가 GET /hello를 보냈을 때 어떤 도메인에 api를 보낼지 구분해줌
  
+ Location
  - 페이지 리다이렉션
  - 웹 브라우저 3xx 응답 결과일 때 Location 헤더가 있으면, Location 위치로 자동 이동
  - 201 (Created): Location 값은 요청에 의해 생선된 리소스 URI
  - 3xx (Redirection) : Location 값은 요청을 자동으로 리디렉션하기 위한 대상 리소스를 가리킴
  
+ Allow
  - 허용 가능한 HTTP 메서드
  - 405 (Method Not Aolled)에서 응답에 포함해야함
  - Allow: GET, HEAD, PUT (POST로 보낼시 GET으로 보내야함)
  - 사실 서버에 잘 구현되어있지 않음
  
+ Retry-Ater
  - 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간
  - 503 (Service Unavailable) : 서비스가 언제까지 불능인지 알려줄 수 있음
  - 날짜 표기 / 초 단위 표기 가능


## 인증 헤더
```
- Authorization : 클라이언트 인증 정보를 서버에 전달
- WWW-Authenticate : 리소스 접근 시 필요한 인증 방법 정의
```

+ Authorization
  - 클라이언트 인증 정보를 서버에 전달
  - Basic xxxxxxxxxxx
  - 인증 메커니즘 여러가지가 있음 (Oauth2 등등)
  - 코인 거래소 api를 사용할 때 본인 확인을 위한 인증 등
  - 사용자 토큰 인증요청 -> header.add("Authorization", "Basic " + base64Creds);
  
+ WWW-Authenticate
  - 리소스 접근 시 필요한 인증 방법 정의
  - 401 Unauthorized 응답과 함께 사용
