## Mysql 최적화
----

### 성능 저하를 유발하는 불필요한 서브쿼리
```
  - 오라클은 rownum 이라는 개념이 있기 때문에 데이터 결과 행에 쉽게 번호를 붙일 수 있지만 Mysql에는
    (SELECT @RNUM:=0) 같은 방식으로 번호를 매길 수 있다.
```
  + rownum 효과를 내기 위해 불필요한 서브쿼리를 사용한 예
  ```sql
    SELECT @RNUM:=@RNUM +1 AS RNUM, ROW.*
    FROM (SELECT @RNUM:=0)R,
    (
      SELECT *
      ~~~
      ~~~
    ) ROW
    LIMIT 100, 0
  ```
  
  + 결과
  ```
    - 페이지 번호를 가져오기 위해 서브쿼리에서는 테이블 간 조인을 처음부터 끝까지 수행하면서 결과값을 Temporary Table에 저장한다.
    - 결과적으로 엄청난 횟수의 조인 연산이 내부적으로 발생하는 것이다.
  ```
  
  + 서브쿼리 제거
  ```sql
    SELECT *
    ~~~
    ~~~
    LIMIT 100, 0
  ```
  
  + 결과
  ```
    해당 수정한 쿼리를 프로파일링하면 
    - 수정 전 sending data = 0.2초
    - 수정 후 sending data = 0.000009초 
    
    라는 획기적으로 줄어든 결과를 얻을 수 있다.
  ```
  
  + DB에서 무리하게 생성하는 것보다 APP서버에서 생성하는 것이 MySQL의 성능을 높이는데 유리하다 (★)

